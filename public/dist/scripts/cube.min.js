"use strict";function e(){S=new THREE.TextureLoader,v=new THREE.JSONLoader,(h=new THREE.PerspectiveCamera(35,window.innerWidth/window.innerHeight,1,1e3)).position.z=700,g=new THREE.Scene,G=new THREE.Object3D,g.add(new THREE.HemisphereLight(4469555,1118498)),(f=new THREE.SpotLight(16777147,1)).position.set(.5,0,25),f.position.multiplyScalar(800),g.add(f),f.castShadow=!0;var e=new THREE.BoxBufferGeometry(200,200,200),n=["1","2","ig","ig","5","6"],i=[];for(let e=0;e<6;e++)2!==e&&3!==e?i.push(new THREE.MeshBasicMaterial({map:S.load("images/c"+n[e]+".jpg")})):i.push(new THREE.MeshBasicMaterial({color:0}));var o=new THREE.MultiMaterial(i);(R=new THREE.Mesh(e,o)).position.y=0,R.name="cube",G.add(R),t("triangle",H,0,16,100,_,-2.095,0,94,"frontend"),t("circle",I,100,1,0,_-.56,0,-_,72,"backend"),t("pentagon",b,-100,-5,0,_,0,_,80,"design"),t("square",M,0,6.5,-100,-_,Math.PI,0,77.5,"me"),(C=new THREE.Group).add(G),g.add(C),q=new THREE.Raycaster,(N=new THREE.WebGLRenderer({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),N.setSize(window.innerWidth,window.innerHeight),N.domElement.style.position="absolute",N.domElement.style.top=0,N.domElement.style.zIndex=100,document.body.appendChild(N.domElement),window.addEventListener("resize",l,!1),document.addEventListener("mousemove",m,!1),document.addEventListener("click",u,!1),document.addEventListener("keydown",w,!1),O=document.getElementById("n1"),W=document.getElementById("n2"),L=document.getElementById("s1"),x=document.getElementById("s2"),U=document.getElementById("s3"),k=document.getElementById("s4")}async function t(e,t,n,i,o,a,s,r,d,c){v.load("scripts/models/"+e+".js",function(E){(t=new THREE.Mesh(E,new THREE.MeshPhongMaterial({shininess:100,map:S.load("textures/uv_"+e+".png")}))).position.set(n,i,o),t.rotation.set(a,s,r),t.scale.set(d,d,d),t.name=c,G.add(t)})}function n(){if(requestAnimationFrame(n),Y===p.MENU||Y===p.INIT)switch($+=.0015,z=.24*Math.sin($),L.style.transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,"+175*z+",0,0,1)",O.style.transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,"+150*z+",0,0,1)",x.style.transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,"+200*z+",0,0,1)",W.style.transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,"+500*z+",0,0,1)",U.style.transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,"+625*z+",0,0,1)",k.style.transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,"+950*z+",0,0,1)",Y){case p.MENU:C.rotation.y=z+K}else Y!==p.ROTATING&&0!==$&&($=0);i()}function i(){TWEEN.update(),q.setFromCamera(ee,h);var e=q.intersectObjects(G.children);e.length>0&&"cube"!==e[0].object.name?(te.style.cursor="pointer",Q=e[0].object):("default"!==te.style.cursor&&(te.style.cursor="default"),Q=null),N.render(g,h)}function o(){Y=p.ROTATING,new TWEEN.Tween(C.rotation).to({y:C.rotation.y+_},680).easing(TWEEN.Easing.Quintic.Out).onComplete(function(){Y=p.MENU,K+=_,s(y.LEFT)}).start()}function a(){Y=p.ROTATING,new TWEEN.Tween(C.rotation).to({y:C.rotation.y-_},680).easing(TWEEN.Easing.Quintic.Out).onComplete(function(){Y=p.MENU,K-=_,s(y.RIGHT)}).start()}function s(e){switch(e){case y.RIGHT:++ne>4&&(ne=1);break;case y.LEFT:--ne<1&&(ne=4)}}function r(){Y=p.FOCUSING,new TWEEN.Tween(C.rotation).to({y:C.rotation.y+-z},220).easing(TWEEN.Easing.Quintic.Out).start(),new TWEEN.Tween(h.position).to({z:-101},1680).easing(TWEEN.Easing.Quintic.Out).onComplete(function(){Y=p.PAGE,c()}).start()}function d(){E(),Y=p.FOCUSING,new TWEEN.Tween(h.position).to({z:700},680).easing(TWEEN.Easing.Quintic.Out).onComplete(function(){Y=p.MENU}).start()}function c(){let e=document.createElement("div");e.id="pageContent";document.querySelector("body").appendChild(e);let t="/";switch(ne){case 1:t+="frontend";break;case 2:t+="backend";break;case 3:t+="me";break;case 4:t+="design"}fetch(t).then(e=>e.text()).then(t=>{document.querySelector("#pageContent").innerHTML=t;let n=document.createElement("script");n.src="scripts/flicker.js",e.appendChild(n)})}function E(){let e=document.querySelector("#pageContent");e.parentNode.removeChild(e)}function l(){h.aspect=window.innerWidth/window.innerHeight,h.updateProjectionMatrix(),N.setSize(window.innerWidth,window.innerHeight)}function m(e){e.preventDefault(),ee.x=e.clientX/window.innerWidth*2-1,ee.y=-e.clientY/window.innerHeight*2+1}function u(e){if(e.preventDefault(),Q)switch(Q.name){case"initBtn":up();break;case"frontend":case"backend":case"design":case"me":r()}}function w(e){var t=e.which;if(37===t||39===t||187===t||189===t)switch(Y){case p.MENU:37===t?o():39===t?a():187===t&&r();break;case p.PAGE:189===t&&d()}}function T(){e(),n()}const p={INIT:Symbol("INIT"),MENU:Symbol("MENU"),PAGE:Symbol("PAGE"),ROTATING:Symbol("ROTATING"),FOCUSING:Symbol("FOCUSING")},y={RIGHT:Symbol("R"),LEFT:Symbol("L")};var h,f,g,N,R,H,I,b,M,S,v,G,C,O,W,L,x,U,k,B,P,A,F,j,z,q,Q,D,J,V,X,Y=p.MENU,_=Math.PI/2,K=0,Z=0,$=0,ee=new THREE.Vector2,te=document.querySelector("html"),ne=1;(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?T():document.addEventListener("DOMContentLoaded",T);